<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=[device-width], initial-scale=1.0" />
    <title>Protfolio</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="an.css" />
    <link rel="stylesheet" href="projects.css" />
  </head>
  <body>
    <div class="cursor"></div>
    <nav class="navbar">
      <div class="navbar-content">
        <div class="logo">
          <img src="assets/Logo.svg" alt="" />
        </div>
        <div class="header-container">
          <div class="header"><a href="#">home</a></div>
          <div class="header"><a href="#about">about</a></div>
          <div class="header"><a href="#projects">projects</a></div>
          <div class="header"><a href="#contact">contact</a></div>
        </div>
      </div>
    </nav>
    <section class="home">
      <div class="back"></div>
      <div class="home-container">
        <div class="left-side">
          <div class="ball" style="--i: 1"></div>
          <div class="bar" style="--i: 2"></div>
          <div class="ball" style="--i: 3"></div>
        </div>
        <div class="middle"></div>
        <div class="right">
          <div class="content">
            <span>Hi there</span>
            <h1>I'm Samuel</h1>
            <p>
              a web developer crafting intuitive and impactful digital
              experiences.
            </p>
          </div>
        </div>
      </div>
    </section>
    <section class="about" id="about">
      <div class="card-container">
        <div class="card">
          <div class="circle" style="--i: 1"></div>
          <div class="circle" style="--i: 2"></div>
          <div class="circle" style="--i: 3"></div>
          <div class="circle" style="--i: 4"></div>
          <div class="circle" style="--i: 5"></div>
          <div class="circle" style="--i: 6"></div>
          <div class="circle" style="--i: 7"></div>
          <div class="circle" style="--i: 8"></div>
        </div>

        <div class="about-content">
          <div class="br"></div>
          <div class="cont">
            <div class="cont-text">
              <img
                src="./assets/Logo2.svg"
                style="width: 5rem; aspect-ratio: 1/1"
              />
              <div class="text">
                <img
                  src="./assets/whiteBall.svg"
                  style="width: 1rem; aspect-ratio: 1/1"
                />
              </div>
            </div>
            <!-- <div class="cont-img"></div> -->
          </div>
        </div>
        <div class="card">
          <div class="circle" style="--i: 1"></div>
          <div class="circle" style="--i: 2"></div>
          <div class="circle" style="--i: 3"></div>
          <div class="circle" style="--i: 4"></div>
          <div class="circle" style="--i: 5"></div>
          <div class="circle" style="--i: 6"></div>
          <div class="circle" style="--i: 7"></div>
          <div class="circle" style="--i: 8"></div>
        </div>
      </div>
    </section>
    <section class="projects" id="projects">
      <div class="slider">
        <div class="item" style="--position: 1">
          <img src="assets/intership_proj.png" alt="" />
          <div class="cd-content">
            <h1>User Data Management Application</h1>
            <p>
              A full-stack app for collecting and displaying user information,
              built with React, Node.js/Express, and MySQL. It includes a
              submission form and login functionality.
            </p>
          </div>
        </div>
        <div class="item" style="--position: 2">
          <img src="assets/weather-app.png" alt="" />
          <div class="cd-content">
            <h1>Weather App</h1>
            <p>
              A sleek and intuitive weather app providing real-time forecasts,
              location-based updates, and a user-friendly interface for all your
              weather needs.
            </p>
          </div>
        </div>
        <div class="item" style="--position: 3">
          <img src="assets/bahirehasb.png" alt="" />
          <div class="cd-content">
            <h1>Bahire Hasab Calculator</h1>
            <p>
              A desktop application built with Python and Tkinter, designed to
              calculate dates and generate calendars based on the Ethiopian
              Orthodox calendar system.
            </p>
          </div>
        </div>
        <div class="item" style="--position: 4">
          <img src="assets/addiscoder.png" alt="" />
          <div class="cd-content">
            <h1>Addis Coder Website</h1>
            <p>
              Developed a responsive website to showcase the Addise Coder
              program, highlighting its mission and achievements.
            </p>
          </div>
        </div>
        <!-- <div class="item" style="--position: 5">
          <img src="assets/i1.png" alt="" />
          <div class="cd-content">
            <h1>h5</h1>
            <p>Bottom face description.</p>
          </div>
        </div>
        <div class="item" style="--position: 6">
          <img src="assets/i1.png" alt="" />
          <div class="cd-content">
            <h1>h6</h1>
            <p>Bottom face description.</p>
          </div>
        </div> -->
      </div>
      <div class="next-btn">
        <img src="assets/arrow-right-square-fill.svg" alt="" />
      </div>
      <div class="prev-btn">
        <img src="assets/arrow-left-square-fill.svg" alt="" />
      </div>
    </section>

    <footer class="portfolio-footer" id="contact">
      <div class="footer-content">
        <h2>Samuel's Portfolio</h2>
        <p>
          Designing solutions, building experiences, and sharing knowledge.
          Let's connect!
        </p>
        <ul class="social-links">
          <li><a href="#" aria-label="GitHub">GitHub</a></li>
          <li><a href="#" aria-label="LinkedIn">LinkedIn</a></li>
          <li><a href="#" aria-label="Twitter">Twitter</a></li>
        </ul>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Samuel's Portfolio. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // Get the 'about' section
      const cursor = document.querySelector(".cursor");
      // document.body.style.zoom = "80%";

      document.addEventListener("mousemove", (e) => {
        cursor.setAttribute(
          "style",
          "top: " + (e.pageY - 25) + "px; left: " + (e.pageX - 25) + "px;"
        );
      });

      document.addEventListener("wheel", (e) => {
        cursor.setAttribute(
          "style",
          "top: " + (e.pageY - 25) + "px; left: " + (e.pageX - 25) + "px;"
        );
      });

      let once = 0;
      const homeSection = document.querySelector(".home");
      const navbar = document.querySelector(".navbar-content");
      const aboutSection = document.querySelector(".about");
      const aboutSectionCards = document.querySelectorAll(".card");
      const aboutSectionCircles = document.querySelectorAll(".circle");
      const aboutSectionBr = document.querySelector(".br");
      const aboutSectionCont = document.querySelector(".cont");

      const aboutSectionContText = document.querySelector(".cont-text .text");
      const Mtext =
        "HI ,I'm a web developer who enjoys building solutions that are both functionl and user-friendly.";
      const texts = [
        "I started coding to solve real-world problems.",
        "I specialize in full-stack development with React, Node.js, and MySQL.",
        "My goal is to create seamless, interactive user experiences.",
        "When I'm not coding, I'm learning and exploring new technologies.",
        "I believe in the power of clean, maintainable code.",
      ];

      // Define the callback function for IntersectionObserver
      const handleIntersection = (entries, observer) => {
        // if (once === 0) {

        if (!once) {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              aboutSectionCards[0].classList.add("c1");
              aboutSectionCards[1].classList.add("c2");
              aboutSectionCont.classList.add("grow-in");

              once = 1;
              setTimeout(() => {
                console.log("jdkd");
                aboutSectionCircles.forEach((ele) => {
                  ele.classList.add("c3");
                });
                aboutSectionCards[0].classList.add("c4");
                aboutSectionCards[1].classList.add("c5");
                aboutSectionBr.classList.add("b1");
              }, 3000);

              setTimeout(() => {
                aboutSectionCards[0].classList.remove("c4");
                aboutSectionCards[1].classList.remove("c5");
              }, 4000);
              console.log(once, !once);
              const y = setTimeout(() => {
                firstwriting();
              }, 6500);
            }
          });
        }
      };
      // };
      const firstwriting = () => {
        const x = aboutSectionContText.lastElementChild;
        let counterC = 0;

        const Fw = setInterval(() => {
          if (counterC < Mtext.length) {
            aboutSectionContText.removeChild(x);
            aboutSectionContText.innerHTML += Mtext[counterC];
            aboutSectionContText.appendChild(x);
            counterC++;
          } else {
            clearInterval(Fw);
            setTimeout(typewrite, 1000);
          }
        }, 85);
      };

      const typewrite = () => {
        const x = aboutSectionContText.lastElementChild;
        let counterR = 0;
        let counterC = 0;
        let isDeleting = false;

        const processText = () => {
          if (counterR >= texts.length) return;

          const currentText = texts[counterR];

          if (!isDeleting) {
            aboutSectionContText.removeChild(x);
            aboutSectionContText.innerHTML += currentText[counterC];
            aboutSectionContText.appendChild(x);
            counterC++;

            if (counterC === currentText.length) {
              isDeleting = true;
              setTimeout(processText, 1000);
              return;
            }
          } else {
            aboutSectionContText.removeChild(x);
            aboutSectionContText.innerHTML =
              aboutSectionContText.innerHTML.slice(0, -1);
            aboutSectionContText.appendChild(x);
            counterC--;

            if (counterC === 0) {
              isDeleting = false;
              counterR++;
              setTimeout(processText, 1000);
              return;
            }
          }

          setTimeout(processText, 50);
        };

        processText();
      };

      const options = {
        root: null,
        rootMargin: "0px",
        threshold: 0.5,
      };

      // Create the observer
      const observer = new IntersectionObserver(handleIntersection, options);

      // Start observing the about section
      observer.observe(aboutSection);

      const projectsCube = document.querySelector(".cube-container");

      const prevBtn = document.querySelector(".prev-btn");
      const nextBtn = document.querySelector(".next-btn img");
      const items = document.querySelectorAll(".item");

      let currentIndex = 0; // Tracks the middle item in view

      function updatePositions() {
        const totalItems = items.length;

        items.forEach((item, index) => {
          // Calculate the offset from the current index, looping with modulus
          const offset = (index - currentIndex + totalItems) % totalItems;

          // Apply transforms based on position in the loop
          if (offset === 0) {
            // Center item
            item.style.transform =
              "rotateY(0deg) translateX(0px) translateZ(0px)";
            item.style.opacity = "1";
            item.style.zIndex = "10";
          } else if (offset === 1 || offset === totalItems - 1) {
            // Items adjacent to the center
            const sign = offset === 1 ? 1 : -1;
            item.style.transform = `rotateY(${sign * 15}deg) translateX(${
              sign * 150
            }px) translateZ(-100px)`;
            item.style.opacity = "0.8";
            item.style.zIndex = "9";
          } else {
            // Items further back
            const sign = offset > totalItems / 2 ? -1 : 1;
            const depth = Math.abs(offset);
            item.style.transform = `rotateY(${
              sign * depth * 15
            }deg) translateX(${sign * depth * 150}px) translateZ(-${
              depth * 100
            }px)`;
            item.style.opacity = "0.5";
            item.style.zIndex = "8";
          }
        });
      }

      // Move to the previous item

      // Move to the next item
      nextBtn.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % items.length; // Wrap-around for indices exceeding length
        updatePositions();
      });

      prevBtn.addEventListener("click", () => {
        currentIndex = (currentIndex - 1) % items.length; // Wrap-around for indices exceeding length
        updatePositions();
      });

      // Initialize positions on page load
      updatePositions();
      // handlProjIntersection = (entries, observer) => {
      //   // entries.forEach((entry),()=>{
      //   entries.forEach((entry) => {
      //     if (entry.isIntersecting) {
      //       projectsSection.classList.add("secion-entery");
      //     }
      //   });
      // };
      // const projectsSection = document.querySelector(".projects");
      // const observe2 = new IntersectionObserver(handlProjIntersection, options);
      // observe2.observe(projectsSection);
    </script>
  </body>
</html>
